## 腾讯


1. [Step 1 熟悉框架]使用腾讯后台游戏框架tsf4g,实现用户的登陆逻辑

    1.1 tapp 游戏的主体框架

    1.2 tdr 类似于google的protobuff,用于定义数据交换格式的组件

    1.3 tconnd 提供接入服务的组件

    1.4 torm 提供数据库orm的组件

    这一块主要的就是熟悉框架和文档，然后作为api caller，调用这些模块，完成自己的任务。

2. [Step 2.1 自己去实现游戏框架的组件]实现一个可以reusme的内存池

    这个是一个很有意思的东西，实现一个内存池。但是，这个内存池有一个要求，就是进程挂了之后，重新启动起来，内存池上面的数据还是存在的。

    举一个例子，如果程序里面有一个map，然后向map写入一个uid=100的user。然后程序被kill了。重新启动之后，要求这个map里面的数据依然是存在的。

    这个的原理是基于共享内存，一个进程起来之后，将自己的内存池创建再共享内存上面，这样程序挂了之后，共享内存上面的数据是依然存在的。下次启动的时候，shmat一下就好。

    但是，这样带来两个新问题。
    1. 共享内存每次shmat的时候，是挂在进程的虚拟内存空间上面的，但是每次挂载的地址是不一样的。也就是说，你的内存池里面是不能使用指针的，因为挂在的地址再进程重启之后是不一样的。

    举个例子，如果一个 strcut user * p_uesr 指向了内存池上面的一个空间，然后进程重新启动之后，共享内存挂载的地方可能是不一样的。这样就导致，p_user去访问的空间以前不是原来的空间。

    2. 实现共享内存的内存池之后，后面的所有数据结构（重启进程之后恢复不出来的）都要放在内存池里面。这样就必须再内存池的基础上面去实现相应的数据结构，比如去实现链表，实现hash_table。基本告别stl。

    这个事情是一个很有挑战的事情，也是一个很开心的事情。写这个模块的时候，非常爽，感觉自己在完成一个了不起的大事，写的很有成就感。

3. [Step 2.2 自己去实现游戏框架的组件]实现一个linux下的定时器

    这个timer就是仿照linux下面的定时器的实现，做一个多级时间轮。实现定时任务。写这个时候，看了一些linux的源码和相关的资料，发现linux下面的很多东西写的都非常好，可以指的学习一下。

4. [Step 2.3 自己去实现游戏框架的组件]实现一个对后台进行并发压测的client

    以前看过webbench的源码，这个压测的思路和webbench也差不多。我是通过多线程去建立连接，然后进行io，然后断开。
